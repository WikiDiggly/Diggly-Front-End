/* jshint ignore:start */
!function(e){e.extend({debounce:function(e,t,o,i){3==arguments.length&&"boolean"!=typeof o&&(i=o,o=!1);var r;return function(){var a=arguments;i=i||this,o&&!r&&e.apply(i,a),clearTimeout(r),r=setTimeout(function(){!o&&e.apply(i,a),r=null},t)}},throttle:function(e,t,o){var i,r,a;return function(){r=arguments,a=!0,o=o||this,i||!function(){a?(e.apply(o,r),a=!1,i=setTimeout(arguments.callee,t)):i=null}()}}})}(jQuery),$(document).ready(function(e){var t=!(void 0===Cookies.get("diggly-session")),o={};e("body").on("visual:clicked-node",function(i,r){var a=r.nodeID,n=r.centralNodeID;t&&void 0!==Cookies.get("diggly-session")||(o={},Cookies.set("diggly-session",o,{expires:1})),t=!0,o=JSON.parse(Cookies.get("diggly-session")),o[a]?console.log("No request sent for clicked node as it has already been visited today."):(e.ajax({url:"http://rack36.cs.drexel.edu:8000/diggly/topics/track/",type:"POST",data:"tid_src="+n+"&tid_dst="+a,async:!1,error:function(e){console.log("Error happened in AJAX Request!!"),console.log(e)}}),o[a]=!0,Cookies.remove("diggly-session"),Cookies.set("diggly-session",o,{expires:1}))})}),function(){"use strict";angular.module("digglyFeProto",["ngAnimate","d3","ngCookies","ngSanitize","restangular","ui.router","mm.foundation","ngCsv"])}(),function(){"use strict";function e(e){var t=this.model={random:{},popular:{},trending:{},recent:[{},{},{}]},o=this.action={init:function(){e.getRecentTopics().then(function(e){t.recent=e.plain()}),e.getTrendingTopic().then(function(e){t.trending=e.plain()}),e.getPopularTopic().then(function(e){t.popular=e.plain()}),e.getRandomTopic().then(function(e){t.random=e.plain()})}};o.init()}e.$inject=["DigglyService"],angular.module("digglyFeProto").controller("HomeController",e)}(),function(){"use strict";function e(e){var t={history:[],bookmarks:[]},o={clearHistory:function(){var o=t.history.length;t.history=_.drop(t.history,o),e.$emit("notify:service","History cleared.",!0)},clearBookmarks:function(){var o=t.bookmarks.length;t.bookmarks=_.drop(t.history,o),e.$emit("notify:service","Bookmarks cleared.",!0)},removeHistoryItem:function(e){_.remove(t.history,function(t){return t.article_id===e.article_id})},removeBookmarkItem:function(e){_.remove(t.bookmarks,function(t){return t.article_id===e.article_id})},addBookmark:function(i){var r=function(e){return e.article_id===i.article_id},a=t.bookmarks;0===a.length||-1===_.findIndex(a,r)?(t.bookmarks.push(i),e.$emit("notify:service",i.article_title+" has been added to your bookmarks.",!1)):(o.removeBookmarkItem(i),e.$emit("notify:service",i.article_title+" has been removed from your bookmarks.",!0))},setHistory:function(e){if(t.history.length>0){var o=_.findIndex(t.history,function(t){return t.article_id===e.article_id});-1===o&&t.history.unshift(e)}else t.history.push(e)},getHistory:function(){return t.history||(t.history=[]),t.history},getBookmarks:function(){return t.bookmarks||(t.bookmarks=[]),t.bookmarks},doesBookmarkExist:function(e){var o=_.find(t.bookmarks,function(t){return t.article_id===e});return console.log(o),angular.isObject(o)?!0:!1}};return{clearHistory:o.clearHistory,clearBookmarks:o.clearBookmarks,removeHistoryItem:o.removeHistoryItem,removeBookmarkItem:o.removeBookmarkItem,setHistory:o.setHistory,getHistory:o.getHistory,addBookmark:o.addBookmark,getBookmarks:o.getBookmarks,doesBookmarkExist:o.doesBookmarkExist}}e.$inject=["$rootScope"],angular.module("digglyFeProto").factory("ExploreService",e)}(),function(){"use strict";function e(e,t){var o={restrict:"A",link:function(o,i){e.$on("visual:update",function(e,o){var r=o.article_title+" | Wikipedia Visualizer";t(function(){i.text(r)},0,!1)})}};return o}e.$inject=["$rootScope","$timeout"],angular.module("digglyFeProto").directive("updateTitle",e)}(),function(){"use strict";function e(e,t,o,i,r){var a=this.model={history:[],currentTopic:"",data:""};i.loading=!1;var n=this.action={updateHistory:function(e){t.setHistory(e),a.history=t.getHistory()},fetchTopic:function(t){i.loading=!0,e.getRelevantTopics(t).then(function(e){o.is("explore.visual")&&(a.data=e.plain(e),a.currentTopic=_.omit(a.data,"linked_topics"),o.go("explore.visual",{id:t},{location:!0,notify:!1,reload:!1}))})["finally"](function(){n.updateHistory(a.currentTopic),r.$emit("visual:update",a.currentTopic)})},addBookmark:function(e){t.addBookmark(e)},clearHistory:function(){t.clearHistory(),a.history.length=0},onClick:function(e){n.fetchTopic(e);var t={centralNodeID:a.currentTopic.article_id,nodeID:e};$("body").trigger("visual:clicked-node",t)},init:function(){o.params.id&&n.fetchTopic(o.params.id),a.history=t.getHistory()||[]}};i.$on("visual:semi-loaded",function(){i.$apply(function(){i.loading=!1})}),n.init()}e.$inject=["DigglyService","ExploreService","$state","$scope","$rootScope"],angular.module("digglyFeProto").controller("VisualController",e)}(),function(){"use strict";function e(e){var t=this.model={history:[]},o=this.action={removeItem:function(t){e.removeHistoryItem(t)},clearHistory:function(){e.clearHistory(),t.history.length=0},init:function(){t.history=e.getHistory()||""}};o.init()}e.$inject=["ExploreService"],angular.module("digglyFeProto").controller("HistoryController",e)}(),function(){"use strict";function e(e,t){var o=this.model={bookmarks:[],exportType:"txt",extensions:[{label:"Text File (.txt)",type:"txt"},{label:"Comma-Seperated Values (.csv)",type:"csv"}],downloadUrl:"",fileName:"MyBookmarks",summary:!0,longDesc:!0,wikiUrl:!0},i=this.action={removeItem:function(t){e.removeBookmarkItem(t),o.bookmarks=e.getBookmarks(),i["export"]()},clearBookmarks:function(){e.clearBookmarks(),o.bookmarks=e.getBookmarks(),i["export"]()},"export":function(){var e,t=i.normalize();switch(o.exportType){case"csv":e=_.map(t,function(e){var t=_.mapValues(e,function(e){return _(e).toString().replace(/\"/g,"%22")});return t});var r=i.convertoCsv(e,"Diggly-CSV",!0);o.downloadUrl=i.exportTo("csv",r);break;default:case"txt":e=_.map(t,function(e){var t=_.mapValues(e,function(e){return" "+_(e).toString().replace(/\"/g,"%22").replace(/,/g,"%2C")+"%5c"});return t});var a=JSON.stringify(e),n=a.replace(/"/g,"").replace(/,/g,"").replace(/\%22/g,'"').replace(/%2C/g,",").replace(/\%5c/g,"\n").replace(/}/g,"\n\n").replace(/{/g,"").replace(/\[/g,"").replace(/\]/g,"");o.downloadUrl=i.exportTo("txt",n)}},normalize:function(){o.bookmarks=e.getBookmarks();var t=_.map(o.bookmarks,function(e){var t={"Wikipedia ID":e.article_id,"Wikipedia Title":e.article_title};return o.wikiUrl&&(t["Wikipedia Link"]=e.wiki_link),o.summary&&(t.Summary=e.summary),o.longDesc&&(t.Description=e.description),t});return t},exportTo:function(e,o){var i;switch(e){case"txt":i=new Blob([o],{type:"text/plain"});break;case"csv":i=new Blob([o],{type:"text/csv"})}null!==r&&t.URL.revokeObjectURL(o);var r=t.URL.createObjectURL(i);return r},convertoCsv:function(e,t){var o,i="object"!=typeof e?JSON.parse(e):e,r="",a="";if(t){a="";for(o in i[0])a+=o+",";a=a.slice(0,-1),r+=a+"\r\n"}for(var n=0;n<i.length;n++){a="";for(o in i[n])a+='"'+i[n][o]+'",';a.slice(0,a.length-1),r+=a+"\r\n"}return r.replace(/\%22/g,'"'),""===r?"Error with exporting":r},init:function(){o.bookmarks=e.getBookmarks()||"",i["export"]()}};i.init()}e.$inject=["ExploreService","$window"],angular.module("digglyFeProto").controller("BookmarkController",e)}(),function(){"use strict";function e(e,t,o){var i={restrict:"E",templateUrl:"app/components/search/search.html",scope:{},controller:function(){var i=function(i){e.getId(i).then(function(e){t.go("explore",{id:e.pageid})})["catch"](function(e){o.error(e),o.error("~~~~ Error: The id was not returned ~~~~")})};$("body").on("search",function(e){i(e.searchString)})},link:function(t){var i,r=200,a="",n=0,l="";$("body").on("keyup",".searchBar",$.debounce(function(i){var l=i.keyCode;if(37!==l&&38!==l&&39!==l&&40!==l&&13!==l&&(n+=1,r=n%2!==0?0:200,$(".results").removeClass("active"),a=$(".searchBar").val(),""!==a)){var s=a.replace(" ","+");e.getSearchSuggest(s).then(function(e){e=e.plain(e),t.topics=_.filter(e,function(e){return!_.isEmpty(e)}),$(".results").addClass("active")})["catch"](function(e){o.error(e),o.error("Error in AJAX Request.")})}},r)),$("body").on("keydown",".searchBar",function(e){var t=e.keyCode;if(37===t||38===t||39===t||40===t){var o=$(".results li").length,r=$(".results li").index($(".selected"));40===t?0>r?($(".results li").eq(0).addClass("selected"),r=0,i=$(".results .selected")):($(".results li").eq(r).removeClass("selected"),$(".results li").eq((r+1)%o).addClass("selected"),r=(r+1)%o,i=$(".results .selected")):38===t&&(-1===r?($(".results li").eq(o-1).addClass("selected"),r=o-1,i=$(".results .selected")):($(".results li").eq(r).removeClass("selected"),1>r?($(".results li").eq(o-Math.abs(r-1)%o).addClass("selected"),r=o-Math.abs(r-1)%o):($(".results li").eq(r-1).addClass("selected"),r-=1),i=$(".results .selected")))}else if(13===t){l=$(".results .selected").text(),$(".searchBar").val(l),$(".results").removeClass("active");var a=$.Event("search");a.searchString=l,$("body").trigger(a)}}),$("body").on("click",".results li",function(){l=$(this).text(),$(".searchBar").val(l),$(".results").removeClass("active");var e=$.Event("search");e.searchString=l,$("body").trigger(e)})}};return i}e.$inject=["SearchService","$state","$log"],angular.module("digglyFeProto").directive("searchDiggly",e)}(),function(){"use strict";function e(e){var t=this.action={getSearchSuggest:function(t){return e.oneUrl("suggest","http://rack36.cs.drexel.edu/suggest").get({q:t})},getId:function(t){return e.oneUrl("pageid","http://rack36.cs.drexel.edu/getpageid").get({q:t})}};return{getSearchSuggest:t.getSearchSuggest,getId:t.getId}}e.$inject=["Restangular"],angular.module("digglyFeProto").service("SearchService",e)}(),function(){"use strict";function e(e,t){var o={restrict:"EA",scope:{},link:function(o){o.state=!1,t.$on("notify:service",function(t,i,r){o.message=i,o.state=!0,o.exists=r?!0:!1,e(function(){o.state=!1},2500)})},template:'<div class="notify__message" ng-class="{show: state, error: exists}"><p ng-bind="message"></p></div>'};return o}e.$inject=["$timeout","$rootScope"],angular.module("digglyFeProto").directive("notifyService",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}e.$inject=["moment"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("digglyFeProto").directive("acmeNavbar",e)}(),function(){"use strict";function e(){function e(e,t){var o=this;o.type="website",e.$on("visual:update",function(e,i){o.title=i.article_title,o.url=t.absUrl(),o.description=i.summary})}e.$inject=["$rootScope","$location"];var t={restrict:"E",templateUrl:"app/components/fbShare/metaTemplate.html",scope:{},controller:e,controllerAs:"fbShare",bindToController:!0};return t}angular.module("digglyFeProto").directive("fbShare",e)}(),function(){"use strict";function e(e,t,o){var i={restrict:"EA",scope:{data:"=",onClick:"&"},link:function(o,i){var r=o.model={d3Data:{nodes:"",edges:""}};e.d3().then(function(e){var l=e.select(i[0]).append("svg").style("width","100%").style("height","100%");t.onresize=function(){o.$apply()},o.$watch(function(){return angular.element(t)[0].innerWidth},function(){angular.element(t)[0].innerWidth<1024&&o.updateDim()}),o.$watch("data",function(e,t){t.article_title!==e.article_title&&o.render(e)},!1);var s=$(".visualizer").height(),c=$(".visualizer").width(),d=Math.round(c/4);o.updateDim=_.debounce(function(){c=$(".visualizer").width(),s=$(".visualizer").height(),d=Math.round(c/4),o.render(o.data)},300),o.render=function(t){if(l.selectAll("*").remove(),t){r.d3Data.nodes=a(t),r.d3Data.edges=n(t.linked_topics.length);var i=e.scale.category20c(),u=e.layout.force().nodes(r.d3Data.nodes).links(r.d3Data.edges).size([c,s]).linkDistance(d).charge([-500]).theta(.1).gravity(.05).alpha(.08).on("tick",f).start(),p=l.selectAll("line").data(r.d3Data.edges).enter().append("line").attr("id",function(e,t){return"edge"+t}).attr("marker-end","url(#marker_circle)").style("stroke","#989898").style("stroke-width","2").style("pointer-events","none"),m=l.selectAll("circle").data(r.d3Data.nodes).enter().append("circle").attr({r:function(e){return 45*e.score},"class":function(e,t){return"node-"+t}}).style("fill",function(e,t){return i(t)}).call(u.drag).on("click",function(e,t){if(0!==t){var i=e.target_id;o.onClick({item:i})}}),g=l.selectAll(".nodelabel").data(r.d3Data.nodes).enter().append("text").attr({x:function(e){return e.x},y:function(e){return e.y},"class":function(e,t){return"label-"+t},stroke:"black"}).on("click",function(e,t){if(0!==t){var i=e.target_id;o.onClick({item:i})}}).text(function(e){return e.title}),v=l.selectAll(".edgepath").data(r.d3Data.edges).enter().append("path").attr({d:function(e){return"M "+e.source.x+" "+e.source.y+" L "+e.target.x+" "+e.target.y},"class":"edgepath","fill-opacity":0,"stroke-opacity":0,fill:"blue",stroke:"red",id:function(e,t){return"edgePath-"+t}}).style("pointer-events","none"),h=l.selectAll(".edgelabel").data(r.d3Data.edges).enter().append("text").style("pointer-events","none").attr({"class":"edgelabel",id:function(e,t){return"edgelabel-"+t},dx:80,dy:0,"font-size":10,fill:"#aaa"});h.append("textPath").attr("xlink:href",function(e,t){return"#edgepath"+t}).style("pointer-events","none"),l.append("defs").append("marker").attr({id:"arrowhead",viewBox:"-0 -5 10 10",refX:25,refY:0,orient:"auto",markerWidth:10,markerHeight:10,xoverflow:"visible"}).append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#ccc").attr("stroke","#ccc");var k=0,f=function(){k++,48===k&&o.$emit("visual:semi-loaded"),p.attr({x1:function(e){return e.source.x},y1:function(e){return e.source.y},x2:function(e){return e.target.x},y2:function(e){return e.target.y}}),m.attr({cx:function(e){return e.x},cy:function(e){return e.y}}),g.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),v.attr("d",function(e){var t="M "+e.source.x+" "+e.source.y+" L "+e.target.x+" "+e.target.y;return t})};u.on("tick",f)}}})}},r=function(e){var t={};return t=_.omit(e,["linked_topics"]),t.title=t.article_title,t.score=1,[t]},a=function(e){var t,o=0;_.each(e.linked_topics,function(e){o=o<e.score?e.score:o,t=.8/o}),_.map(e.linked_topics,function(e){e.score*=t,e.score<.05&&(e.score=.05)});var i=_.union(r(e),e.linked_topics);return i},n=function(e){var t=_.times(e,function(e){return{source:e+1,target:0}});return t};return i}e.$inject=["d3Service","$window","$rootScope"],angular.module("digglyFeProto").directive("digglyVisual",e)}(),function(){"use strict";angular.module("d3",[])}(),function(){"use strict";function e(e,t,o){function i(){o.$apply(function(){r.resolve(window.d3)})}var r=t.defer(),a=e[0].createElement("script");a.type="text/javascript",a.async=!0,a.src="http://d3js.org/d3.v3.min.js",a.onreadystatechange=function(){"complete"===this.readyState&&i()},a.onload=i;var n=e[0].getElementsByTagName("body")[0];return n.appendChild(a),{d3:function(){return r.promise}}}e.$inject=["$document","$q","$rootScope"],angular.module("d3").factory("d3Service",e)}(),function(){"use strict";function e(e,t){function o(t,o){o.text(e.doesBookmarkExist(t)?"bookmark":"bookmark_border")}var i={restrict:"A",scope:{id:"="},link:function(e,i,r){o(e.id,i),t.$on("notify:service",function(){o(e.id,i)})}};return i}e.$inject=["ExploreService","$rootScope"],angular.module("digglyFeProto").directive("buttonState",e)}(),function(){"use strict";function e(e){var t={restrict:"E",templateUrl:"app/components/card/topicCardTemplate.html",scope:{title:"=",content:"=",id:"="},link:function(t){t.loaded=!1,t.params={id:t.id},t.redirect=function(){e.go("explore",{id:t.id})},t.$watch("id",function(e,o){"number"==typeof e&&(t.loaded=!0)})}};return t}e.$inject=["$state"],angular.module("digglyFeProto").directive("topicCard",e)}(),function(){"use strict";function e(e){var t="http://rack36.cs.drexel.edu:8000/diggly/";e.setBaseUrl(t);var o=e.all("topics"),i=this.action={getAllTopics:function(){return o.getList()},getTopic:function(t){return e.one("topics",t).get()},getRelevantTopics:function(e){return o.one("explore",e).get()},getRandomTopic:function(){return e.one("topics","random").get()},getPopularTopic:function(){return e.one("topics","popular").get()},getTrendingTopic:function(){return e.one("topics","trending").get()},getRecentTopics:function(){return e.one("topics","recent").get()}};return{getAllTopics:i.getAllTopics,getTopic:i.getTopic,getRelevantTopics:i.getRelevantTopics,getPopularTopic:i.getPopularTopic,getRecentTopics:i.getRecentTopics,getRandomTopic:i.getRandomTopic,getTrendingTopic:i.getTrendingTopic}}e.$inject=["Restangular"],angular.module("digglyFeProto").service("DigglyService",e)}(),function(){"use strict";function e(e){e.debug("Diggly is up and running, at your service!")}function t(e,t){e.$on("$stateChangeStart",function(e,o,i){o.redirectTo&&(e.preventDefault(),t.go(o.redirectTo,i))})}e.$inject=["$log"],t.$inject=["$rootScope","$state"],angular.module("digglyFeProto").run(e).run(t)}(),function(){"use strict";function e(e,t,o){e.state("home",{url:"/",templateUrl:"app/home/views/home.html",controller:"HomeController",controllerAs:"home"}).state("explore",{url:"/explore/:id",templateUrl:"app/explore/views/layout.html",redirectTo:"explore.visual"}).state("explore.visual",{url:"/visual",parent:"explore",templateUrl:"app/explore/views/visual.html",controller:"VisualController",controllerAs:"visual"}).state("explore.history",{parent:"explore",url:"/history",templateUrl:"app/explore/views/history.html",controller:"HistoryController",controllerAs:"history"}).state("explore.bookmark",{parent:"explore",url:"/bookmarks",templateUrl:"app/explore/views/bookmarks.html",controller:"BookmarkController",controllerAs:"bookmarks"}),t.otherwise("/"),o.html5Mode(!0)}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("digglyFeProto").config(e)}(),function(){"use strict";angular.module("digglyFeProto").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t,o){o.aHrefSanitizationWhitelist(/^\s*(https?|blob):/),e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}e.$inject=["$logProvider","toastr","$compileProvider"],angular.module("digglyFeProto").config(e)}(),angular.module("digglyFeProto").run(["$templateCache",function(e){e.put("app/components/card/topicCardTemplate.html",'<div class="card" ng-class="{ transition__done : loaded }"><span ng-show="loaded"><h4><a ng-click="redirect()">{{ title }}</a></h4><p ng-bind="(content | limitTo: 200) + \'...\'"></p><div class="card-btn__container"><a ng-click="redirect()"><i class="material-icons">arrow_forward</i></a></div></span> <span ng-show="!loaded"><div class="loader__circle"><div id="circleG_1" class="circleG"></div><div id="circleG_2" class="circleG"></div><div id="circleG_3" class="circleG"></div></div></span></div>'),e.put("app/components/fbshare/metaTemplate.html",'<meta property="og:url" content="{{ fbShare.url }}"><meta property="og:type" content="{{ fbShare.website }}"><meta property="og:title" content="{{ fbShare.title }}"><meta property="og:description" content="{{ fbShare.description }}"><meta property="og:image" content="http://rack36.cs.drexel.edu/dist/assets/images/imageSN.jpg">'),e.put("app/components/navbar/navbar.html",'<nav class="top-bar row"><ul class="title-area"><li class="name"><h1><a ui-sref="home">Diggly</a></h1></li></ul><section class="top-bar-section"><ul class="right"><explore-navigation></explore-navigation></ul></section></nav>'),e.put("app/components/search/search.html",'<div class="search-container center"><span class="fa fa-search"></span> <input type="text" placeholder="Search" class="searchBar"><ul class="results"><li ng-repeat="topic in topics">{{topic.title}}</li></ul></div>'),e.put("app/home/views/home.html",'<main class="home"><header><div class="row"><h1 ui-sref="home"><span class="left-circle"></span><span class="right-circle"></span><span>diggly</span></h1><div class="search-wrap"><search-diggly></search-diggly></div></div></header><section class="recent"><div class="row"><h3>Recently Discovered</h3><article class="medium-4 small-12 columns" ng-repeat="recentArticle in home.model.recent"><topic-card ng-cloak="" title="recentArticle.article_title" content="recentArticle.summary" id="recentArticle.article_id"></topic-card></article></div></section><section class="interest"><div class="row"><article class="medium-4 small-12 columns"><h3>Trending Now</h3><topic-card ng-cloak="" title="home.model.trending.article_title" content="home.model.trending.summary" id="home.model.trending.article_id"></topic-card></article><article class="medium-4 small-12 columns"><h3>Most Popular</h3><topic-card ng-cloak="" title="home.model.popular.article_title" content="home.model.popular.summary" id="home.model.popular.article_id"></topic-card></article><article class="medium-4 small-12 columns"><h3>Something New</h3><topic-card ng-cloak="" title="home.model.random.article_title" content="home.model.random.summary" id="home.model.random.article_id"></topic-card></article></div></section></main>'),e.put("app/explore/views/bookmarks.html",'<section class="bookmarks"><article class="medium-8 small-12 columns card bookmarks__card"><div class="heading"><h2>Saved Bookmarks</h2><div class="buttons"><a ng-click="bookmarks.action.clearBookmarks()" class="sweep"><i class="material-icons">delete_sweep</i></a></div></div><ul><li ng-repeat="bookmark in bookmarks.model.bookmarks"><div class="top-row"><h4>{{ bookmark.article_title}}</h4><div class="option-wrap"><a href="{{ bookmark.wiki_link }}" target="_blank"><i class="material-icons">launch</i></a> <a ng-click="bookmarks.action.removeItem(bookmark)"><i class="material-icons">remove_circle_outline</i></a></div></div><p>{{ bookmark.summary | limitTo: 1000 }} ...</p></li></ul></article><div class="medium-4 small-12 columns export"><article ng-cloak="" class="small-12 columns card"><div class="export__card"><h3>Export</h3><div class="export__summary"><p>Export to an external file to save on your local computer.</p></div><form><label for="fileName">File Name:</label> <input name="fileName" type="text" ng-model="bookmarks.model.fileName"><div class="export__selection"><label for="exportSelection">Export Type:</label><select name="exportSelection" ng-model="bookmarks.model.exportType" ng-change="bookmarks.action.export()" ng-options="extension.type as extension.label for extension in bookmarks.model.extensions"><option value="">Choose File Type</option></select></div><div class="export__filter"><div><input name="summary" type="checkbox" ng-model="bookmarks.model.summary" ng-change="bookmarks.action.export()"> <label for="summary">Include Summary</label></div><div><input name="longDesc" type="checkbox" ng-model="bookmarks.model.longDesc" ng-change="bookmarks.action.export()"> <label for="longDesc">Include Long Description</label></div><div><input name="wikiUrl" type="checkbox" ng-model="bookmarks.model.wikiUrl" ng-change="bookmarks.action.export()"> <label for="wikiUrl">Include Wikipedia URL</label></div></div><div class="export__btns"><a ng-href="{{ bookmarks.model.downloadUrl }}" class="export__btn" download="{{ bookmarks.model.fileName }}">Export</a></div></form></div></article></div></section>'),e.put("app/explore/views/history.html",'<section class="history"><article class="card history__card"><div class="heading"><h2>Previously Viewed</h2><div class="buttons"><a ng-click="history.action.clearHistory()" class="sweep"><i class="material-icons">delete_sweep</i></a></div></div><ul><li ng-repeat="topic in history.model.history"><div class="top-row"><h4>{{ topic.article_title}}</h4><div class="option-wrap"><a href="{{ topic.wiki_link }}" target="_blank"><i class="material-icons">launch</i></a> <a ng-click="history.action.removeItem(topic)"><i class="material-icons">remove_circle_outline</i></a></div></div><p>{{ topic.summary | limitTo: 300 }} ...</p></li></ul></article></section>'),e.put("app/explore/views/layout.html",'<header class="app-header"><div class="row"><h1>diggly</h1></div></header><div class="navigation"><nav class="top-bar row"><div class="top-bar-section"><ul class="left"><li><a ui-sref="home">Home</a></li><li ui-sref-active="active"><a ui-sref="explore">Explore</a></li></ul></div><div class="right"><search-diggly></search-diggly></div></nav></div><main class="explore"><div class="row"><nav class="top-bar"><div class="notification" notify-service=""></div><div class="top-bar-section"><div class="left"><h2>Explore</h2></div><ul class="right"><li ui-sref-active="active"><a ui-sref="explore.visual({ history: history })">Visual</a></li><li ui-sref-active="active"><a ui-sref="explore.history({ history: history })">History</a></li><li ui-sref-active="active"><a ui-sref="explore.bookmark">Bookmarks</a></li></ul></div></nav><div class="small-12 columns"><div class="row"><div ui-view=""></div></div></div></div></main>'),e.put("app/explore/views/visual.html",'<section class="visual"><div class="medium-8 small-12 columns"><section ng-cloak="" class="visualizer card"><div class="visual__loader" ng-show="loading"><img class="visual__svg" src="assets/ripple.svg"></div><div ng-show="!loading"><div diggly-visual="" class="visualizer-container" data="visual.model.data" on-click="visual.action.onClick(item)"></div></div></section></div><div class="medium-4 small-12 columns quick-info"><article ng-cloak="" class="small-12 columns card"><div class="current-card"><h3>{{ visual.model.currentTopic.article_title }}</h3><div class="current-card__summary"><p>{{ visual.model.currentTopic.summary }}</p></div><div class="current-card__btns"><a ng-href="{{ visual.model.currentTopic.wiki_link }}" target="_blank"><i class="material-icons">launch</i></a> <a class="add-bookmark" ng-click="visual.action.addBookmark(visual.model.currentTopic)"><i class="material-icons">bookmark_border</i></a></div></div></article><article ng-cloak="" class="small-12 columns card"><div class="history-card"><h3>History</h3><div class="history-card__list"><ul><li ng-repeat="topic in visual.model.history"><a ui-sref="explore.visual({ id: topic.article_id })">{{ topic.article_title}}</a><div class="buttons"><a href="{{ topic.wiki_link }}" target="_blank"><i class="material-icons">launch</i></a> <a ng-click="visual.action.addBookmark(topic)"><i class="material-icons">bookmark_border</i></a></div></li></ul></div><div class="buttons"><a class="visual__history-clear" ng-click="visual.action.clearHistory()"><i class="material-icons">delete_sweep</i></a></div></div></article></div></section>')}]);